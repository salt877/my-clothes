<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>MYQLO | マイページ</title>
<link rel="icon" type="image/x-icon" href="../static/dist/assets/img/myqlo_favicon.jpg" th:href="@{/dist/assets/img/myqlo_favicon.jpg}" />
<!-- Font Awesome icons (free version)-->
<script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
<!-- Google fonts-->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
<!-- Core theme CSS (includes Bootstrap)-->
<link href="../static/dist/css/styles.css" th:href="@{/dist/css/styles.css}" rel="stylesheet" />
<link rel="stylesheet" href="../static/dist/css/my_page.css" th:href="@{/dist/css/my_page.css}">
<link rel="stylesheet" href="../static/dist/css/past-coordinate.css" th:href="@{/dist/css/past-coordinate.css}">
</head>

<body id="page-top">

		<!-- Navigation-->
	<div id="navArea">
		<nav class="navbar navbar-default" th:replace="header::pageheader"></nav>
	</div>
	<!-- ユーザ情報 -->
	<section class="page-section bg-white">
		<div class="container">
			<div class="user-information">
				<div class="plofile_img">
					<img th:if="${userInfomation.imagePath}" class="plofile_icon" alt="写真" src="../static/dist/assets/img/plofile.jpeg" th:src="${userInfomation.imagePath}">
					<img th:unless="${userInfomation.imagePath}" class="plofile_icon" alt="写真" src="../static/dist/assets/img/user_icon.png" th:src="@{/dist/assets/img/user_icon.png}">
					<br>
					<a href="profile.html" th:href="@{'/profileEdit?userId='+${userInfomation.userId}}">
					<button type="button" id="change_profile_bun" class="btn btn-primary coordinate-regis-btn">
						<span class="chacge-profile">プロフィール変更</span>
					</button>
					</a>
				</div>
				<div class="user_main">
					<h1 class="name" th:text="${userInfomation.userName}">テストユーザ</h1>
					<h2><a class="user-page" th:href="@{/__${userMyqloId}__}" th:text="${userInfomation.userName + 'さんのページ'}">ユーザページへのリンク</a></h2>
					<div class="user_data">
						<ul class="info">
							<li class="user_id" th:text="'@'+${userInfomation.myqloId}">@testUser1234</li>
							<li th:unless="${#strings.isEmpty(userDetail.height)}" class="break">|</li>
							<li th:unless="${#strings.isEmpty(userDetail.height)}" class="height" th:text="${userInfomation.height}+'cm'">170cm</li>
							<li th:if="${userInfomation.gender}" class="break">|</li>
							<li class="gender" th:text="${userInfomation.gender}">MEN</li>
							<li th:if="${userInfomation.age}" class="break">|</li>
							<li class="age" th:text="${userInfomation.age}">20代前半</li>
						</ul>
					</div>
					<br> <br>
					<div class="self-introduction">
						<span th:text="${userInfomation.selfIntroduction}"></span>
						<span th:if="${#strings.isEmpty(userInfomation.selfIntroduction)}">よろしくお願いします。</span>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- 過去のコーデ -->
	<section class="page-section bg-light" id="pastcordlist">
		<div class="container">
			<div th:if="!${#lists.isEmpty(coordinateList)}">
				<div class="register-coordinate-btn-sp">
					<a href="coordinate.html" th:href="@{/coordinate}">
						<button class="btn btn-primary sp-btn">
							<i class="fas fa-female"></i> &nbsp;&nbsp;<span>コーデ登録</span>
						</button>
					</a> <br> <br> <br>
				</div>
			</div>
			<div id="past-coordinate-list">
				<div th:each="coordinate:${coordinateList}">
					<div class="past-coordinates">
						<h6 th:text="${coordinate.name}"></h6>

						<table class="table table-list">
							<thead>
								<tr class="bg-light coordinate-category">
									<th th:each="clothes:${coordinate.clothesList}"
										th:text="${clothes.category.name}" class="column"></th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td th:each="clothes:${coordinate.clothesList}">
										<div style="text-align: center;">
											<img class="img-fluid coordinate-img"
												th:src="${clothes.imagePath}" alt="">
										</div>
									</td>
								</tr>
							</tbody>
						</table>

						<div class="coordinate-detail-btn">
							<span>
								<button type="button" class="btn btn-primary detail-btn"
									th:value="${coordinate.id}" data-toggle="modal"
									data-target="#coordinate-modal"
									th:attr="data-target='#coordinate-modal'+${coordinate.id}">
									<small>コーディネート詳細</small>
								</button>
							</span>

							<!-- コーデ詳細モーダル -->
							<div class="modal fade" th:id="coordinate-modal+${coordinate.id}"
								tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
								<div class="modal-dialog">
									<div class="modal-content">

										<!-- モーダル内ヘッダー -->
										<div class="modal-header">
											<h5 class="modal-title" id="exampleModalLabel"
												th:text="${coordinate.name}"></h5>
											<button type="button" class="close" data-dismiss="modal"
												aria-label="閉じる">
												<span aria-hidden="true">&times;</span>
											</button>
										</div>

										<!-- モーダル内ボディ -->
										<div class="modal-body">
											<div th:each="clothes:${coordinate.clothesList}">
												<table class="table modal-tbl">
													<tbody>
														<tr class="modal-tr">
															<td rowspan="5"><div class="clothes-img">
																	<img class="img-fluid cl-img"
																		th:src="${clothes.imagePath}" alt="">
																</div></td>
															<td class="table-active clm"><label
																style="font-weight: bold;">カテゴリー</label></td>
															<td><span class="modal-txt"
																th:text="${clothes.category.name}"></span></td>
														</tr>
														<tr class="modal-tr">
															<td class="table-active clm"><label
																style="font-weight: bold;">ブランド</label></td>
															<td><span class="modal-txt"
																th:text="${clothes.brand.name}"></span></td>
														</tr>
														<tr class="modal-tr">
															<td class="table-active clm"><label
																style="font-weight: bold;">金額</label></td>
															<td><span class="modal-txt"
																th:text="${#numbers.formatInteger(clothes.price, 1, 'COMMA') + '&nbsp;円'}"></span></td>
														</tr>
														<tr class="modal-tr">
															<td class="table-active clm"><label
																style="font-weight: bold;">購入日</label></td>
															<td><span class="modal-txt"
																th:text="${#dates.format(clothes.perchaseDate, 'yyyy年M月d日')}"></span></td>
														</tr>
														<tr class="modal-tr">
															<td class="table-active clm"><label
																style="font-weight: bold;">メモ</label></td>
															<td><span class="modal-txt"
																th:text="${clothes.comment}"></span></td>
														</tr>
													</tbody>
												</table>
											</div>
											<br>
											<!-- コーデ合計金額反映 -->
											<div class="co-total-price">
												<span class="co-total-price">このコーディネートの合計金額：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
													class="total-price"></span></span>
											</div>
											<br>
											<!-- モーダル内フッター -->
											<div class="modal-footer">
												<span>
													<button type="button" class="btn btn-primary delete-btn"
														th:id="${coordinate.id}" th:value="${coordinate.id}">
														<small>このコーディネートを削除する</small>
													</button>
												</span>
												<button type="button" class="btn btn-secondary"
													data-dismiss="modal">閉じる</button>
											</div>
											<!-- /.modal-footer -->
										</div>
										<!-- /.modal-content -->
									</div>
									<!-- /.modal-dialog -->
								</div>
								<!-- /.modal -->
								<!-- モーダル設定終了 -->
							</div>
							<br> <br> <br> <br>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>



	<!-- Footer-->
	<footer class="footer py-4" th:replace="footer::pagefooter"> </footer>
	<!-- Bootstrap core JS-->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>

	<!-- Third party plugin JS-->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

	<!-- Contact form JS-->
	<script src="../static/dist/assets/mail/jqBootstrapValidation.js"
		th:src="@{/dist/assets/mail/jqBootstrapValidation.js}"></script>
	<script src="../static/dist/assets/mail/contact_me.js"
		th:src="@{/dist/assets/mail/contact_me.js}"></script>

	<!-- Core theme JS-->
	<script src="../static/dist/js/scripts.js"
		th:src="@{/dist/js/scripts.js}"></script>
	<script src="../static/dist/js/hamburger_menu.js"
		th:src="@{/dist/js/hamburger_menu.js}"></script>
	<script src="../static/dist/js/accordion.js"
		th:src="@{/dist/js/accordion.js}"></script>

	<!-- Coordinate Ajax -->
	<script type="text/javascript" src="../static/dist/js/coordinate.js"
		th:src="@{/dist/js/coordinate.js}"></script>
	<script type="text/javascript"
		src="../static/dist/js/past-coordinate.js"
		th:src="@{/dist/js/past-coordinate.js}"></script>

	<!-- loading -->
	<script src="../static/dist/js/loading.js"
		th:src="@{/dist/js/loading.js}"></script>

</body>
</html>
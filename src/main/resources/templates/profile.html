<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>MYQLO | プロフィール変更</title>
<link rel="icon" type="image/x-icon" href="../static/dist/assets/img/myqlo_favicon.jpg" th:href="@{/dist/assets/img/myqlo_favicon.jpg}" />
<!-- Font Awesome icons (free version)-->
<script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
<!-- Google fonts-->
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
<!-- Core theme CSS (includes Bootstrap)-->
<link href="../static/dist/css/styles.css" th:href="@{/dist/css/styles.css}" rel="stylesheet" />
<link rel="stylesheet" href="../static/dist/css/plofile.css" th:href="@{/dist/css/plofile.css}">
<link rel="stylesheet" href="../static/dist/css/past-coordinate.css" th:href="@{/dist/css/past-coordinate.css}">
</head>
<body id="page-top">

	<!-- Navigation-->
	<div id="navArea">
		<nav class="navbar navbar-default" th:replace="header::pageheader"></nav>
	</div>
		
	<!-- 見出し -->
	<section class="page-section bg-white" id="heading">
		<div class="container">
			<div>
				<h1><i class="fas fa-cog"></i>&emsp;基本設定</h1>
			</div>
		</div>
	</section>
	
	<!-- 登録画面 -->
	<section class="page-section bg-light" id="pastcordlist">
      <div class="container">
      	<form name="profileForm" action="#" method="post" th:action="@{/edit}" th:object="${registerUserDetailForm}" enctype="multipart/form-data">
      	<div class="imag-icon">
      		<img th:if="${userDetail.imagePath}" id="preview" class="plofile_icon" alt="写真" src="../static/dist/assets/img/plofile.jpeg" th:src="${userDetail.imagePath}" >
      		<img th:if="${#strings.isEmpty(userDetail.imagePath)}" id="preview" class="plofile_icon" alt="写真" src="../static/dist/assets/img/user_icon.png" th:src="@{/dist/assets/img/user_icon.png}">
      	</div>
      	<div class="change-image-btn">
      			<button type="button" id="removeImage" class="btn btn-secondary btn--radius">削除</button>
      			<div class="imageFile_button">画像を変更
      			<input id="myImage" class="file_input" name="imageFile" type="file" accept=".jpg,.png" th:field="*{imageFile}" >
      			</div>
		</div>
      	<table>
			<tr>
				<th class="thead" scope="col" colspan="2">基本情報</th>
			</tr>
			<tbody>
				<tr>
					<th>MYQLO ID</th>
						<td class="txt">
							<span class="username" th:text="${user.myqloId}">testUser1234</span>
						</td>
				</tr>
				<tr>
					<th><span style="color:red">※</span>ニックネーム</th>
						<td class="txt">
							<b th:if="${#fields.hasErrors('userName')}" th:errors="*{userName}" class="control-label" style="color: red" for="inputError">ニックネームは必須です</b>
							<input type="text" name="userName" id="userName" placeholder="30文字以内で入力してください" th:field="*{userName}">
						</td>
				</tr>
				<tr>
					<th>性別</th>
						<td class="txt">
							<div class="cp_ipselect cp_sl02">
								<select name="gender">
									<option th:if="${#strings.isEmpty(userDetail.gender)}" th:value="${userDetail.gender}">選択してください</option>
									<option th:unless="${#strings.isEmpty(userDetail.gender)}" th:value="${userDetail.gender}" th:text="${userDetail.gender}">○○</option>
									<option th:unless="${#strings.isEmpty(userDetail.gender)}" value="">選択してください</option>
									<option th:value="MEN">MEN</option>
									<option th:value="WOMEN">WOMEN</option>
									<option th:value="OTHER">OTHER</option>
								</select>
							</div>
						</td>
				</tr>
				<tr>
					<th>身長</th>
						<td class="txt">
							<div class="cp_ipselect cp_sl02">
								<select name="height">
									<option th:unless="${#strings.isEmpty(userDetail.height)}" th:value="${userDetail.height}" th:text="${userDetail.height} + 'cm'">○○cm</option>
									<option th:if="${#strings.isEmpty(userDetail.height)}" value="">選択してください</option>
									<option th:value="100">100cm</option>
									<option th:value="101">101cm</option>
									<option th:value="102">102cm</option>
									<option th:value="103">103cm</option>
									<option th:value="104">104cm</option>
									<option th:value="105">105cm</option>
									<option th:value="106">106cm</option>
									<option th:value="107">107cm</option>
									<option th:value="108">108cm</option>
									<option th:value="109">109cm</option>
									<option th:value="110">110cm</option>
									<option th:value="111">111cm</option>
									<option th:value="112">112cm</option>
									<option th:value="113">113cm</option>
									<option th:value="114">114cm</option>
									<option th:value="115">115cm</option>
									<option th:value="116">116cm</option>
									<option th:value="117">117cm</option>
									<option th:value="118">118cm</option>
									<option th:value="119">119cm</option>
									<option th:value="120">120cm</option>
									<option th:value="121">121cm</option>
									<option th:value="122">122cm</option>
									<option th:value="123">123cm</option>
									<option th:value="124">124cm</option>
									<option th:value="125">125cm</option>
									<option th:value="126">126cm</option>
									<option th:value="127">127cm</option>
									<option th:value="128">128cm</option>
									<option th:value="129">129cm</option>
									<option th:value="130">130cm</option>
									<option th:value="131">131cm</option>
									<option th:value="132">132cm</option>
									<option th:value="133">133cm</option>
									<option th:value="134">134cm</option>
									<option th:value="135">135cm</option>
									<option th:value="136">136cm</option>
									<option th:value="137">137cm</option>
									<option th:value="138">138cm</option>
									<option th:value="139">139cm</option>
									<option th:value="140">140cm</option>
									<option th:value="141">141cm</option>
									<option th:value="142">142cm</option>
									<option th:value="143">143cm</option>
									<option th:value="144">144cm</option>
									<option th:value="145">145cm</option>
									<option th:value="146">146cm</option>
									<option th:value="147">147cm</option>
									<option th:value="148">148cm</option>
									<option th:value="149">149cm</option>
									<option th:value="150">150cm</option>
									<option th:value="151">151cm</option>
									<option th:value="152">152cm</option>
									<option th:value="153">153cm</option>
									<option th:value="154">154cm</option>
									<option th:value="155">155cm</option>
									<option th:value="156">156cm</option>
									<option th:value="157">157cm</option>
									<option th:value="158">158cm</option>
									<option th:value="159">159cm</option>
									<option th:value="160">160cm</option>
									<option th:value="161">161cm</option>
									<option th:value="162">162cm</option>
									<option th:value="163">163cm</option>
									<option th:value="164">164cm</option>
									<option th:value="165">165cm</option>
									<option th:value="166">166cm</option>
									<option th:value="167">167cm</option>
									<option th:value="168">168cm</option>
									<option th:value="169">169cm</option>
									<option th:value="170">170cm</option>
									<option th:value="171">171cm</option>
									<option th:value="172">172cm</option>
									<option th:value="173">173cm</option>
									<option th:value="174">174cm</option>
									<option th:value="175">175cm</option>
									<option th:value="176">176cm</option>
									<option th:value="177">177cm</option>
									<option th:value="178">178cm</option>
									<option th:value="179">179cm</option>
									<option th:value="180">180cm</option>
									<option th:value="181">181cm</option>
									<option th:value="182">182cm</option>
									<option th:value="183">183cm</option>
									<option th:value="184">184cm</option>
									<option th:value="185">185cm</option>
									<option th:value="186">186cm</option>
									<option th:value="187">187cm</option>
									<option th:value="188">188cm</option>
									<option th:value="189">189cm</option>
									<option th:value="190">190cm</option>
									<option th:value="191">191cm</option>
									<option th:value="192">192cm</option>
									<option th:value="193">193cm</option>
									<option th:value="194">194cm</option>
									<option th:value="195">195cm</option>
									<option th:value="196">196cm</option>
									<option th:value="197">197cm</option>
									<option th:value="198">198cm</option>
									<option th:value="199">199cm</option>
									<option th:value="200">200cm</option>
									
									
									
								</select>
							</div>
						</td>
				</tr>
				<tr>
					<th>年齢</th>
						<td class="txt">
							<div class="cp_ipselect cp_sl02">
								<select name="age">
									<option th:if="${#strings.isEmpty(userDetail.age)}" th:value="${userDetail.age}">選択してください</option>
									<option th:unless="${#strings.isEmpty(userDetail.age)}" th:value="${userDetail.age}" th:text="${userDetail.age}">○代前半</option>
									<option th:unless="${#strings.isEmpty(userDetail.age)}" value="">選択してください</option>
									<option th:value="10代前半">10代前半</option>
									<option th:value="10代後半">10代後半</option>
									<option th:value="20代前半">20代前半</option>
									<option th:value="20代後半">20代後半</option>
									<option th:value="30代前半">30代前半</option>
									<option th:value="30代後半">30代後半</option>
									<option th:value="40代前半">40代前半</option>
									<option th:value="40代後半">40代後半</option>
									<option th:value="50代前半">50代前半</option>
									<option th:value="50代後半">50代後半</option>
									<option th:value="その他">その他</option>
								</select>
							</div>
						</td>
				</tr>
			</tbody>
		</table>
		<div class="detailed-information">
			<table>
				<tr>
					<th class="thead" scope="col" colspan="2">自己紹介</th>
				</tr>
				<tbody>
					<tr>
						<td class="self-introduction" colspan="2">
							<textarea name="self-introduction" rows="10" cols="82" placeholder="300文字以内で入力してください"
								 th:text="${userDetail.selfIntroduction}" th:field="*{selfIntroduction}"></textarea>
						</td>
					</tr>
				</tbody>
			</table>
			<!--  変更ボタン -->
			<div class="complete-btn">
				<input type="hidden" name="userId" id="userId" th:value="${user.id}">
				<input type="submit" name="submit" id="profile_submit"
							class="btn btn--submit" value="&emsp;変更を保存&emsp;"disabled>
			</div>
		</div>
		</form>
      </div>
    </section>


	<!-- Bootstrap core JS-->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
	<!-- Third party plugin JS-->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
	<!-- Contact form JS-->
	<script src="../static/dist/assets/mail/jqBootstrapValidation.js"
		th:src="@{/dist/assets/mail/jqBootstrapValidation.js}"></script>
	<script src="../static/dist/assets/mail/contact_me.js"
		th:src="@{/dist/assets/mail/contact_me.js}"></script>
	<!-- Core theme JS-->
	<script src="../static/dist/js/scripts.js"
		th:src="@{/dist/js/scripts.js}"></script>
	<script src="../static/dist/js/hamburger_menu.js"
		th:src="@{/dist/js/hamburger_menu.js}"></script>
	<script src="../static/dist/js/accordion.js"
		th:src="@{/dist/js/accordion.js}"></script>
	<script type="text/javascript">
//aモーダルの画像表示
$(function() {
$('#myImage').on('change', function (e) {
    var reader = new FileReader();
    reader.onload = function (e) {
        $("#preview").attr('src', e.target.result);
        var a =  document.getElementById('preview').value;
    }
    reader.readAsDataURL(e.target.files[0]);
});
});
//画像が入っているか確認.
$(function() {
	$("#myImage").change(function (){
	 var fileName = $(this).val();
	 console.log(fileName);
	 $("#fileName").val(fileName);
	 change();
 });
	$("#removeImage").click(function(){
		var defaltImage = '/dist/assets/img/user_icon.png';
		$("#preview").removeAttr('src');
		$("#preview").attr('src',defaltImage); 
		$("#myImage").attr('name','');
		$('#profile_submit').removeAttr('disabled');
});
	
	$('form[name=profileForm]').change(function(){
		$('#profile_submit').removeAttr('disabled');
	});
});
</script>
</body>
</html>